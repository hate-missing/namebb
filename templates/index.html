<!DOCTYPE html>
<html>
<head>
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="../static/jquery.mobile-1.4.5.css">


    <script src="../static/jquery-1.11.2.js"></script>
    <script src="../static/jquery.mobile-1.4.5.js"></script>
    <script>
        var babyNameWordCount = 0;
        var babyGender = "both";
        var babyXing = "";


        $(document).ready(function () {

//            $("#settingOk").disabled = babyXing == "" ? "disabled" : "enabled";
//            if (babyXing == "") {
//                alert("shit");
//                $.mobile.changePage('#settingPage', 'pop', true, true);
////                $( "#settingPage" ).popup( "open" )
//            }
                $.mobile.changePage('#settingPage', 'pop', true, true);
            $("#babyXingText").bind('input', function () {
                babyXing = $("#babyXingText").val();
                $("#settingOk").prop("disabled", babyXing == "" ? true : false);
            });
            $("#gender").change(function () {
                babyGender = $("input:radio[name='gender']:checked").val();
            });

            $("#wordCount").change(function () {
                babyNameWordCount = $("input:radio[name='wordCount']:checked").val();
            });

            $("#settingOk").click(function () {
//                $( "#settingPage" ).dialog( "close" );
                $.mobile.changePage('#mainPage', 'pop', true, true);
//                window.location = "#main";
            });

            $("#nextName").click(function () {
                $.mobile.loading( 'show', {
                    text:"",
                    textVisible: false,
                    theme: 'z',
                    html: ""
                });

                $.getJSON("/random", function (json) {
//                    alert(json.v);
                    $("#babyName").html(json.n);

                    $.mobile.loading( 'hide');
                });
            });
//
//            $("#rank_name_button").click(function () {
//                $.getJSON("/rank", {
//                    name:$("#rank_content").html
//                }, function(json){
//                    $("#rank_score").html(json.score);
//
//                });
//            });
        });

        $( document ).bind( 'mobileinit', function(){
//            $.mobile.loader.prototype.options.text = "";
//            $.mobile.loader.prototype.options.textVisible = false;
//            $.mobile.loader.prototype.options.theme = "";
//            $.mobile.loader.prototype.options.html = "";
        });
    </script>
</head>
<body>

<!-- Start of first page: #one -->
<div data-role="page" id="mainPage">

    <div data-role="header" data-theme="b">
        <h1>起名星-宝宝版</h1>
    </div>
    <!-- /header -->

    <div role="main" class="ui-content">
        <div id="babyName">
        </div>
        <button id="nextName" class="ui-btn">下一个</button>
    </div>
    <!-- /content -->

    <!--<div data-role="footer" data-theme="a">-->
    <!--<h4>Page Footer</h4>-->
    <!--</div>-->
    <!-- /footer -->
</div>
<!-- /page one -->
<!-- Start of third page: #popup -->
<div data-role="page" id="settingPage">

    <div data-role="header" data-theme="b">
        <h1>起名星-宝宝版</h1>
    </div>
    <!-- /header -->

    <div role="main" class="ui-content" data-theme="b">
        <div><h2>宝宝姓什么：</h2><input id="babyXingText"></div>

        <form id="xx">
            <fieldset id="gender" data-role="controlgroup" data-type="horizontal">
                        
                <h2>
                    <legend>宝宝性别:</legend>
                </h2>
                        <input type="radio" name="gender" id="male" value="male">
                        <label for="male">男宝宝</label>
                        <input type="radio" name="gender" id="female" value="female">
                        <label for="female">女宝宝</label>
                        <input type="radio" name="gender" id="gender_both" value="both" checked="checked">
                        <label for="gender_both">还不知道呢</label>    
            </fieldset>

            <fieldset id="wordCount" data-role="controlgroup" data-type="horizontal">
                        
                <h2>
                    <legend>名字字数:</legend>
                </h2>
                        <input type="radio" name="wordCount" id="twoWords" value="2">
                        <label for="twoWords">单字</label>
                        <input type="radio" name="wordCount" id="threeWords" value="3">
                        <label for="threeWords">双字</label>
                     <input type="radio" name="wordCount" id="wordCountBoth" value="0" checked="checked">
                        <label for="wordCountBoth">都可以</label>
            </fieldset>
        </form>
        <div>
            <button id="settingOk" class="ui-btn" disabled="disabled">马上去找名字!</button>
            <!--<a href="#mainPage" data-rel="back" data-role="button" data-inline="true" data-icon="back">马上去找名字!</a>-->
        </div>
    </div>
    <!-- /content -->

    <!--<div data-role="footer">-->
    <!--<h4>Page Footer</h4>-->
    <!--</div>&lt;!&ndash; /footer &ndash;&gt;-->
</div>
<!-- /page popup -->

</body>
<
</html>